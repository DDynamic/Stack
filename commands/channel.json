{
    "prefixes": [
        "channel",
        "ch",
        "c"
    ],
    "help": "**s! channel scrub {amount-to-delete}** Deletes the last messages from the channel. Default and max is 100.\r\n**s! channel prviate** Denies @everyone the ability to view the channel.\r\n**s! channel reset** Removes any channel specific permissions.\r\n**s! channel invite {user1} [user2] [etc]** Allows the specified user(s) to view the channel. \r\n**s! channel remove {user1} [user2] [etc]** Prevents the specified user(s) from viewing the channel.",
    "code": [
        "msg.delete();\r",
        "    \r",
        "var access = false;\r",
        "\r",
        "if (msg.member) {\r",
        "  msg.member.hasPermission('MANAGE_CHANNELS') ? access = true: access = false; \r",
        "} else if(msg.author.bot) {\r",
        "  access = true;\r",
        "}\r",
        "\r",
        "if (access) {\r",
        "  switch(args[0]) {\r",
        "    case 'scrub':\r",
        "      if (args[1] && args[1] <= 100) {\r",
        "        msg.channel.bulkDelete(args[1], true);\r",
        "      } else {\r",
        "        msg.channel.bulkDelete(100, true);\r",
        "      }\r",
        "\r",
        "      break;\r",
        "    case 'private':\r",
        "      msg.channel.overwritePermissions(msg.channel.guild.defaultRole.id, {\r",
        "        READ_MESSAGES: false\r",
        "      });\r",
        "      msg.channel.permissionOverwrites.deleteAll();\r",
        "      msg.channel.send({embed: {\r",
        "        color: 14277081,\r",
        "        title: 'Privatized',\r",
        "        description: 'This channel has been privatized. Overridden permissions have remained intact. **@everyone cannot view this channel.** \\n\\n Run `s! channel reset` if you would like to reset channel permissions entirely.'\r",
        "      }\r",
        "                       });\r",
        "      break;\r",
        "    case 'reset':\r",
        "      msg.channel.permissionOverwrites.deleteAll();\r",
        "      msg.channel.send({embed: {\r",
        "        color: 14277081,\r",
        "        title: 'Reset',\r",
        "        description: 'This channel\\'s permissions have been reset. **Anyone can access this channel.** \\n\\n Run `s! channel private` if you would like to make this channel exclusive.'\r",
        "      }\r",
        "                       });\r",
        "      break;\r",
        "    case 'invite':\r",
        "      args.shift();\r",
        "      var invitations = '';\r",
        "\r",
        "      var i;\r",
        "      for (i = 0; i < args.length; i++) {\r",
        "        var query = args[i];\r",
        "\r",
        "        client.users.find(function(user) {\r",
        "          var username = user.username.toUpperCase();\r",
        "\r",
        "          if (username.includes(query.toUpperCase())) {\r",
        "            msg.channel.overwritePermissions(user, {\r",
        "              READ_MESSAGES: true\r",
        "            });\r",
        "            invitations += '<@' + user.id + '> ';\r",
        "          }\r",
        "        });\r",
        "      }\r",
        "\r",
        "      if (!invitations) {\r",
        "        invitations = 'No users were invited.';\r",
        "      } else {\r",
        "        invitations = invitations + 'joined.';\r",
        "      }\r",
        "\r",
        "      msg.channel.send({embed: {\r",
        "        color: 14277081,\r",
        "        title: 'Joined',\r",
        "        description: invitations\r",
        "      }\r",
        "                       });\r",
        "\r",
        "      break;\r",
        "    case 'remove':\r",
        "      args.shift();\r",
        "      var removals = '';\r",
        "\r",
        "      for (i = 0; i < args.length; i++) {\r",
        "        var query = args[i];\r",
        "\r",
        "        client.users.find(function(user) {\r",
        "          var username = user.username.toUpperCase();\r",
        "\r",
        "          if (username.includes(query.toUpperCase())) {\r",
        "            msg.channel.permissionOverwrites.get(user.id).delete();\r",
        "            removals += '<@' + user.id + '> ';\r",
        "          }\r",
        "        });\r",
        "      }\r",
        "\r",
        "      if (!removals) {\r",
        "        removals = 'No users were removed.';\r",
        "      } else {\r",
        "        removals = removals + 'left.';\r",
        "      }\r",
        "\r",
        "      msg.channel.send({embed: {\r",
        "        color: 14277081,\r",
        "        title: 'Left',\r",
        "        description: removals\r",
        "      }\r",
        "                       });\r",
        "      break;\r",
        "    default:\r",
        "      msg.reply('invalid subcommand! Please refer to the documentation.');\r",
        "  }   \r",
        "} else {\r",
        "  msg.reply('you must have the **Manage Channels** permission to run this command.');\r",
        "}"
    ]
}